<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Palette Generator</title>
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }

        body {
            background-color: #1a1a1a;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: #e0e0e0;
        }

        /* Main Container */
        .app-container {
            display: flex;
            gap: 16px;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Panel Styles */
        .panel {
            background-color: #222222;
            border-radius: 8px;
            overflow: hidden;
            flex: 1;
        }

        .palette-panel {
            min-width: 600px;
        }

        .color-picker-panel {
            min-width: 320px;
        }

        /* Panel Headers */
        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .panel-header h2 {
            font-size: 14px;
            font-weight: 500;
            color: #ffffff;
        }

        .panel-header-controls {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .close-btn {
            background: none;
            border: none;
            color: #666;
            cursor: pointer;
            font-size: 18px;
            padding: 4px;
        }

        .close-btn:hover {
            color: #999;
        }

        /* Panel Content */
        .panel-content {
            padding: 16px;
        }

        /* Palette Sections */
        .palette-sections {
            display: flex;
            gap: 24px;
        }

        .palette-section {
            flex: 1;
        }

        /* Color Formats */
        .color-formats {
            flex: 1;
        }

        .format-tabs {
            display: flex;
            gap: 4px;
            margin-bottom: 8px;
        }

        .format-tab {
            padding: 4px 8px;
            background: #333;
            border: none;
            color: #999;
            border-radius: 4px;
            cursor: pointer;
        }

        .format-tab.active {
            background: #444;
            color: white;
        }

        .format-content {
            position: relative;
        }

        .format-input {
            width: 100%;
            background: #333;
            border: none;
            color: white;
            padding: 8px 8px 8px 24px;
            border-radius: 4px;
            font-family: monospace;
        }

        .copy-btn {
            position: absolute;
            right: 4px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #666;
            cursor: pointer;
            padding: 4px 8px;
            font-size: 12px;
        }

        .copy-btn:hover {
            color: #999;
        }

        .hidden {
            display: none;
        }

        /* Color Picker */
        .color-picker-container {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .color-picker {
            aspect-ratio: 1;
            border-radius: 6px;
            position: relative;
            overflow: hidden;
            background: linear-gradient(to right, white, rgba(255, 0, 255, 0.5));
            background-image: linear-gradient(to bottom, transparent, black);
        }

        .color-picker-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.3);
            position: absolute;
            transform: translate(-50%, -50%);
            pointer-events: none;
        }

        /* Sliders */
        .color-sliders {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .hue-slider-container,
        .alpha-slider-container {
            height: 20px;
            position: relative;
            border-radius: 10px;
            overflow: hidden;
        }

        .hue-slider {
            width: 100%;
            height: 100%;
            -webkit-appearance: none;
            background: linear-gradient(to right,
                    #ff0000, #ffff00, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000);
            border-radius: 10px;
        }

        .alpha-slider {
            width: 100%;
            height: 100%;
            -webkit-appearance: none;
            border-radius: 10px;
        }

        .hue-slider::-webkit-slider-thumb,
        .alpha-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.3);
            cursor: pointer;
        }

        /* Color Values */
        .color-values {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-top: 8px;
        }

        .color-preview {
            width: 32px;
            height: 32px;
            border-radius: 4px;
            border: 2px solid #444;
            position: relative;
        }

        .eyedropper-btn {
            position: absolute;
            right: -6px;
            bottom: -6px;
            width: 16px;
            height: 16px;
            background: #333;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 10px;
        }

        .hex-input-container {
            position: relative;
            flex: 1;
        }

        .hex-input {
            width: 100%;
            background: #333;
            border: none;
            color: white;
            padding: 8px 8px 8px 24px;
            border-radius: 4px;
            font-family: monospace;
        }

        .hex-prefix {
            position: absolute;
            left: 8px;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
        }

        /* Page Colors Section */
        .page-colors-section {
            margin-top: 20px;
        }

        .page-colors-section h3 {
            font-size: 14px;
            color: #999;
            margin-bottom: 12px;
        }

        .page-colors {
            display: flex;
            gap: 8px;
        }

        .color-swatch {
            flex: 1;
            height: 32px;
            border-radius: 4px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .color-swatch:hover {
            transform: scale(1.05);
        }

        /* Controls */
        .control-group {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .control-group label {
            color: #999;
            font-size: 14px;
        }

        .input-with-unit {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .number-input {
            width: 60px;
            background: #333;
            border: none;
            color: white;
            padding: 6px;
            border-radius: 4px;
            text-align: center;
        }

        .unit {
            color: #666;
        }

        /* Sections */
        .section {
            margin-bottom: 24px;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .section-header h3 {
            font-size: 14px;
            color: #999;
        }

        .section-controls {
            display: flex;
            gap: 8px;
        }

        /* Action Buttons */
        .actions {
            display: flex;
            justify-content: flex-end;
            gap: 8px;
            margin-top: 24px;
        }

        .btn {
            padding: 8px 16px;
            border-radius: 4px;
            border: none;
            font-size: 14px;
            cursor: pointer;
        }

        .cancel-btn {
            background: #333;
            color: white;
        }

        .save-btn {
            background: #CCFF00;
            color: #333;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .check-icon {
            font-size: 14px;
        }

        .color-palette {
            height: 100px;
            /* Give the palette a visible height */
            border-radius: 4px;
        }

        .gradient {
            height: 50px;
            /* Give the gradient section a visible height */
            border-radius: 4px;
        }

        .example-use {
            display: flex;
            gap: 8px;
        }

        .example-use-box {
            flex: 1;
            height: 50px;
            /* Give each box a visible height */
            border-radius: 4px;
        }
    </style>
</head>

<body>
    <div class="app-container">
        <!-- Left Panel: Palette Generator -->
        <div class="panel palette-panel">
            <div class="panel-header">
                <h2>Palette Generator</h2>
                <button class="close-btn">×</button>
            </div>

            <div class="panel-content">
                <div class="palette-sections">
                    <!-- Full Palette Section -->
                    <div class="palette-section">
                        <div class="section-header">
                            <h3>Full Palette</h3>
                            <div class="section-controls">
                                <button class="icon-btn shuffle-btn"></button>
                            </div>
                        </div>
                        <div class="color-palette" id="fullPalette"></div>

                        <!-- Example Use Section -->
                        <div class="section">
                            <div class="section-header">
                                <h3>Example use</h3>
                                <div class="section-controls">
                                    <button class="icon-btn copy-btn"></button>
                                    <button class="icon-btn shuffle-btn"></button>
                                </div>
                            </div>
                            <div class="example-use" id="exampleUse"></div>
                        </div>

                        <!-- Gradient Section -->
                        <div class="section">
                            <div class="section-header">
                                <h3>Gradient</h3>
                                <div class="section-controls">
                                    <button class="icon-btn copy-btn"></button>
                                    <button class="icon-btn shuffle-btn"></button>
                                </div>
                            </div>
                            <div class="gradient" id="gradient"></div>
                        </div>
                    </div>

                    <!-- Shades & Tints Controls -->
                    <div class="palette-section">
                        <div class="section-header">
                            <h3>Shades</h3>
                        </div>

                        <div class="control-group">
                            <label>Amount</label>
                            <input type="number" id="shadesAmount" value="6" min="1" max="12" class="number-input">
                        </div>

                        <div class="control-group">
                            <label>Darkness</label>
                            <div class="input-with-unit">
                                <input type="number" id="shadesDarkness" value="50" min="0" max="100"
                                    class="number-input">
                                <span class="unit">%</span>
                            </div>
                        </div>

                        <div class="control-group">
                            <label>Hue</label>
                            <div class="input-with-unit">
                                <button class="circular-btn" id="shadesHueButton"></button>
                                <input type="number" id="shadesHue" value="45" min="0" max="360" class="number-input">
                                <span class="unit">°</span>
                            </div>
                        </div>

                        <div class="control-group">
                            <label>Saturation</label>
                            <div class="input-with-unit">
                                <input type="number" id="shadesSaturation" value="50" min="0" max="100"
                                    class="number-input">
                                <span class="unit">%</span>
                            </div>
                        </div>

                        <div class="section-header">
                            <h3>Tints</h3>
                        </div>

                        <div class="control-group">
                            <label>Amount</label>
                            <input type="number" id="tintsAmount" value="6" min="1" max="12" class="number-input">
                        </div>

                        <div class="control-group">
                            <label>Darkness</label>
                            <div class="input-with-unit">
                                <input type="number" id="tintsDarkness" value="50" min="0" max="100"
                                    class="number-input">
                                <span class="unit">%</span>
                            </div>
                        </div>

                        <div class="control-group">
                            <label>Hue</label>
                            <div class="input-with-unit">
                                <button class="circular-btn minus-btn" id="tintsHueButton"></button>
                                <input type="number" id="tintsHue" value="90" min="0" max="360" class="number-input">
                                <span class="unit">°</span>
                            </div>
                        </div>

                        <div class="control-group">
                            <label>Saturation</label>
                            <div class="input-with-unit">
                                <input type="number" id="tintsSaturation" value="50" min="0" max="100"
                                    class="number-input">
                                <span class="unit">%</span>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div class="actions">
                            <button class="btn cancel-btn">Cancel</button>
                            <button class="btn save-btn">
                                <span class="check-icon">✓</span> Save
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Panel: Color Picker -->
        <div class="panel color-picker-panel">
            <div class="panel-header">
                <h2>Pattern</h2>
                <div class="panel-header-controls">
                    <button class="icon-btn bookmark-btn"></button>
                    <button class="close-btn">×</button>
                </div>
            </div>

            <div class="panel-content">
                <div class="color-picker-container">
                    <div class="color-picker" id="colorPicker">
                        <div class="color-picker-thumb" id="pickerThumb"></div>
                    </div>

                    <div class="color-sliders">
                        <div class="hue-slider-container">
                            <input type="range" min="0" max="360" value="270" class="hue-slider" id="hueSlider">
                            <div class="slider-thumb" id="hueThumb"></div>
                        </div>

                        <div class="alpha-slider-container">
                            <div class="alpha-bg"></div>
                            <input type="range" min="0" max="100" value="100" class="alpha-slider" id="alphaSlider">
                            <div class="slider-thumb" id="alphaThumb"></div>
                        </div>
                    </div>

                    <div class="color-values">
                        <div class="color-preview">
                            <button class="eyedropper-btn" id="eyedropper"></button>
                        </div>

                        <div class="color-formats">
                            <div class="format-tabs">
                                <button class="format-tab active" data-format="hex">HEX</button>
                                <button class="format-tab" data-format="rgb">RGB</button>
                                <button class="format-tab" data-format="hsl">HSL</button>
                            </div>

                            <div class="format-content">
                                <div class="hex-input-container">
                                    <input type="text" id="hexInput" value="000000" class="hex-input">
                                    <span class="hex-prefix">#</span>
                                    <button class="copy-btn" data-value="#000000">Copy</button>
                                </div>

                                <div class="rgb-input-container hidden">
                                    <input type="text" id="rgbInput" value="rgb(0,0,0)" class="format-input" readonly>
                                    <button class="copy-btn" data-value="rgb(0,0,0)">Copy</button>
                                </div>

                                <div class="hsl-input-container hidden">
                                    <input type="text" id="hslInput" value="hsl(0,0%,0%)" class="format-input" readonly>
                                    <button class="copy-btn" data-value="hsl(0,0%,0%)">Copy</button>
                                </div>
                            </div>
                        </div>

                        <div class="opacity-container">
                            <input type="number" id="opacityValue" value="100" min="0" max="100" class="number-input">
                            <span class="unit">%</span>
                        </div>
                    </div>

                    <div class="page-colors-section">
                        <h3>Page colors</h3>
                        <div class="page-colors" id="pageColors">
                            <!-- Page color swatches will be generated here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Color picker elements
            const colorPicker = document.getElementById('colorPicker');
            const pickerThumb = document.getElementById('pickerThumb');
            const hueSlider = document.getElementById('hueSlider');
            const hueThumb = document.getElementById('hueThumb');
            const alphaSlider = document.getElementById('alphaSlider');
            const alphaThumb = document.getElementById('alphaThumb');
            const hexInput = document.getElementById('hexInput');
            const opacityValue = document.getElementById('opacityValue');
            const colorPreview = document.querySelector('.color-preview');

            // Palette elements
            const fullPalette = document.getElementById('fullPalette');
            const exampleUse = document.getElementById('exampleUse');
            const gradient = document.getElementById('gradient');

            // Shade/Tint controls
            const shadesAmount = document.getElementById('shadesAmount');
            const shadesDarkness = document.getElementById('shadesDarkness');
            const shadesHue = document.getElementById('shadesHue');
            const shadesSaturation = document.getElementById('shadesSaturation');
            const tintsAmount = document.getElementById('tintsAmount');
            const tintsDarkness = document.getElementById('tintsDarkness');
            const tintsHue = document.getElementById('tintsHue');
            const tintsSaturation = document.getElementById('tintsSaturation');

            // Buttons
            const saveBtn = document.querySelector('.save-btn');
            const cancelBtn = document.querySelector('.cancel-btn');
            const closeBtns = document.querySelectorAll('.close-btn');

            // Current color state
            let currentColor = {
                hue: 270,
                saturation: 100,
                lightness: 50,
                alpha: 100
            };

            // Color format tabs
            const formatTabs = document.querySelectorAll('.format-tab');
            const formatContainers = {
                hex: document.querySelector('.hex-input-container'),
                rgb: document.querySelector('.rgb-input-container'),
                hsl: document.querySelector('.hsl-input-container')
            };

            // Copy buttons
            const copyButtons = document.querySelectorAll('.copy-btn');

            // Add page color extraction functionality
            function extractPageColors() {
                const defaultColors = ['#CCCCCC', '#555555', '#222222', '#333333'];
                const pageColors = document.getElementById('pageColors');
                pageColors.innerHTML = '';

                defaultColors.forEach(color => {
                    const swatch = document.createElement('div');
                    swatch.className = 'color-swatch';
                    swatch.style.backgroundColor = color;
                    swatch.addEventListener('click', () => {
                        hexInput.value = color.substring(1);
                        updateFromHex();
                    });
                    pageColors.appendChild(swatch);
                });
            }

            // Add color format conversion functions
            function getRGBA() {
                const rgb = hslToRgb(
                    currentColor.hue / 360,
                    currentColor.saturation / 100,
                    currentColor.lightness / 100
                );
                return `rgba(${rgb[0]}, ${rgb[1]}, ${rgb[2]}, ${currentColor.alpha / 100})`;
            }

            function getHSLA() {
                return `hsla(${currentColor.hue}, ${currentColor.saturation}%, ${currentColor.lightness}%, ${currentColor.alpha / 100})`;
            }

            // Initialize color picker
            updateColorPicker();
            updateSliderThumbs();
            createExampleUse();
            generateFullPalette();
            generateGradient();
            extractPageColors();
            updateColorValues(); // Ensure initial values are set

            // Color picker events
            colorPicker.addEventListener('mousedown', startPickerDrag);
            hueSlider.addEventListener('input', updateHue);
            alphaSlider.addEventListener('input', updateAlpha);
            hexInput.addEventListener('change', updateFromHex);
            opacityValue.addEventListener('change', updateFromOpacity);

            // Control inputs events
            shadesAmount.addEventListener('change', generateFullPalette);
            shadesDarkness.addEventListener('change', generateFullPalette);
            shadesHue.addEventListener('change', generateFullPalette);
            shadesSaturation.addEventListener('change', generateFullPalette);
            tintsAmount.addEventListener('change', generateFullPalette);
            tintsDarkness.addEventListener('change', generateFullPalette);
            tintsHue.addEventListener('change', generateFullPalette);
            tintsSaturation.addEventListener('change', generateFullPalette);

            // Button events
            saveBtn.addEventListener('click', savePalette);
            cancelBtn.addEventListener('click', closePanels);
            closeBtns.forEach(btn => btn.addEventListener('click', closePanels));

            // Slider thumb positioning functions
            function updateSliderThumbs() {
                const huePosition = (currentColor.hue / 360) * hueSlider.offsetWidth;
                hueThumb.style.left = `${huePosition}px`;

                const alphaPosition = (currentColor.alpha / 100) * alphaSlider.offsetWidth;
                alphaThumb.style.left = `${alphaPosition}px`;

                const hslaColor = `hsla(${currentColor.hue}, 100%, 50%, 1)`;
                alphaSlider.style.background = `linear-gradient(to right, transparent, ${hslaColor})`;
            }

            // Color picker functions
            function startPickerDrag(e) {
                updatePickerPosition(e);
                document.addEventListener('mousemove', updatePickerPosition);
                document.addEventListener('mouseup', stopPickerDrag);
            }

            function updatePickerPosition(e) {
                const rect = colorPicker.getBoundingClientRect();
                let x = e.clientX - rect.left;
                let y = e.clientY - rect.top;

                x = Math.max(0, Math.min(x, rect.width));
                y = Math.max(0, Math.min(y, rect.height));

                pickerThumb.style.left = `${x}px`;
                pickerThumb.style.top = `${y}px`;

                const saturation = (x / rect.width) * 100;
                const lightness = 100 - (y / rect.height) * 100;

                currentColor.saturation = Math.round(saturation);
                currentColor.lightness = Math.round(lightness);

                updateColorFromHSL();
            }

            function stopPickerDrag() {
                document.removeEventListener('mousemove', updatePickerPosition);
                document.removeEventListener('mouseup', stopPickerDrag);
            }

            function updateHue() {
                currentColor.hue = parseInt(hueSlider.value);
                updateSliderThumbs();
                updateColorPicker();
                updateColorFromHSL();
            }

            function updateAlpha() {
                currentColor.alpha = parseInt(alphaSlider.value);
                updateSliderThumbs();
                updateColorFromHSL();
            }

            function updateColorPicker() {
                const hueColor = `hsl(${currentColor.hue}, 100%, 50%)`;
                colorPicker.style.backgroundColor = hueColor;
                // Ensure the gradient overlay is applied
                colorPicker.style.backgroundImage = `linear-gradient(to bottom, transparent, black), linear-gradient(to right, white, transparent)`;
            }

            function updateColorFromHSL() {
                const rgbColor = hslToRgb(
                    currentColor.hue / 360,
                    currentColor.saturation / 100,
                    currentColor.lightness / 100
                );

                const hexColor = rgbToHex(rgbColor[0], rgbColor[1], rgbColor[2]);
                hexInput.value = hexColor.substring(1);

                opacityValue.value = currentColor.alpha;

                colorPreview.style.backgroundColor = `hsla(${currentColor.hue}, ${currentColor.saturation}%, ${currentColor.lightness}%, ${currentColor.alpha / 100})`;

                generateFullPalette();
                generateGradient();
                createExampleUse();
                updateColorValues(); // Ensure RGB and HSL inputs are updated
            }

            function updateFromHex() {
                let hex = hexInput.value.replace('#', '');
                // Ensure the HEX code is 6 characters
                if (hex.length === 3) {
                    hex = hex
                        .split('')
                        .map(char => char + char)
                        .join('');
                }
                if (!/^[0-9A-Fa-f]{6}$/.test(hex)) {
                    alert('Invalid HEX code. Please enter a valid 6-digit HEX code.');
                    hexInput.value = rgbToHex(0, 0, 0).substring(1); // Reset to black
                    return;
                }

                const rgb = hexToRgb(hex);
                if (rgb) {
                    const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);
                    currentColor.hue = Math.round(hsl[0] * 360);
                    currentColor.saturation = Math.round(hsl[1] * 100);
                    currentColor.lightness = Math.round(hsl[2] * 100);

                    hueSlider.value = currentColor.hue;
                    updateSliderThumbs();
                    updateColorPicker();

                    const rect = colorPicker.getBoundingClientRect();
                    const x = (currentColor.saturation / 100) * rect.width;
                    const y = (1 - currentColor.lightness / 100) * rect.height;
                    pickerThumb.style.left = `${x}px`;
                    pickerThumb.style.top = `${y}px`;

                    updateColorFromHSL();
                }
            }

            function updateFromOpacity() {
                const alpha = parseInt(opacityValue.value);
                currentColor.alpha = Math.max(0, Math.min(alpha, 100));
                alphaSlider.value = currentColor.alpha;
                updateSliderThumbs();
                updateColorFromHSL();
            }

            // Palette generation functions
            function generateFullPalette() {
                const numShades = parseInt(shadesAmount.value);
                const numTints = parseInt(tintsAmount.value);

                const baseHue = currentColor.hue;
                const shadeColors = [];
                const tintColors = [];

                for (let i = 0; i < numShades; i++) {
                    const shadeDarkness = parseInt(shadesDarkness.value);
                    const shadeHueShift = parseInt(shadesHue.value);
                    const shadeSaturation = parseInt(shadesSaturation.value);

                    const hue = (baseHue + shadeHueShift) % 360;
                    const saturation = shadeSaturation;
                    const lightness = Math.max(0, currentColor.lightness - (shadeDarkness * (i + 1) / numShades));

                    shadeColors.push(`hsl(${hue}, ${saturation}%, ${lightness}%)`);
                }

                for (let i = 0; i < numTints; i++) {
                    const tintDarkness = parseInt(tintsDarkness.value);
                    const tintHueShift = parseInt(tintsHue.value);
                    const tintSaturation = parseInt(tintsSaturation.value);

                    const hue = (baseHue + tintHueShift) % 360;
                    const saturation = tintSaturation;
                    const lightness = Math.min(100, currentColor.lightness + (tintDarkness * (i + 1) / numTints));

                    tintColors.push(`hsl(${hue}, ${saturation}%, ${lightness}%)`);
                }

                const allColors = [...shadeColors.reverse(), `hsl(${baseHue}, ${currentColor.saturation}%, ${currentColor.lightness}%)`, ...tintColors];
                fullPalette.style.background = `linear-gradient(to right, ${allColors.join(', ')})`;
            }

            function generateGradient() {
                const color1 = `hsl(${currentColor.hue}, ${currentColor.saturation}%, ${currentColor.lightness}%)`;
                const color2 = `hsl(${(currentColor.hue + 40) % 360}, ${currentColor.saturation}%, ${currentColor.lightness}%)`;

                gradient.style.background = `linear-gradient(to right, ${color1}, ${color2})`;
            }

            function createExampleUse() {
                exampleUse.innerHTML = '';

                const color1 = `hsl(${(currentColor.hue + 180) % 360}, 80%, 90%)`;
                const color2 = `hsl(${currentColor.hue}, ${currentColor.saturation}%, ${currentColor.lightness}%)`;
                const color3 = `hsl(${currentColor.hue}, 30%, 25%)`;
                const color4 = `hsl(${(currentColor.hue + 15) % 360}, 70%, 85%)`;

                const colors = [color1, color2, color3, color4];

                colors.forEach(color => {
                    const box = document.createElement('div');
                    box.className = 'example-use-box';
                    box.style.backgroundColor = color;
                    exampleUse.appendChild(box);
                });
            }

            // Action functions
            function savePalette() {
                alert('Palette saved! (This would typically save to a database or local storage)');
            }

            function closePanels() {
                alert('Panel close action triggered');
            }

            // Format tabs functionality
            formatTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const format = tab.dataset.format;
                    formatTabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');

                    Object.values(formatContainers).forEach(container => {
                        container.classList.add('hidden');
                    });
                    formatContainers[format].classList.remove('hidden');
                });
            });

            // Copy functionality
            copyButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const value = button.dataset.value;
                    navigator.clipboard.writeText(value).then(() => {
                        const originalText = button.textContent;
                        button.textContent = 'Copied!';
                        setTimeout(() => {
                            button.textContent = originalText;
                        }, 1500);
                    });
                });
            });

            // Update color values
            function updateColorValues() {
                const hex = hexInput.value;
                const rgba = getRGBA();
                const hsla = getHSLA();

                // Update copy buttons data values
                document.querySelector('[data-format="hex"]').dataset.value = `#${hex}`;
                document.querySelector('[data-format="rgb"]').dataset.value = rgba;
                document.querySelector('[data-format="hsl"]').dataset.value = hsla;

                // Update input values
                document.getElementById('rgbInput').value = rgba;
                document.getElementById('hslInput').value = hsla;
            }

            // Color conversion utilities
            function hexToRgb(hex) {
                const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
                return result ? {
                    r: parseInt(result[1], 16),
                    g: parseInt(result[2], 16),
                    b: parseInt(result[3], 16)
                } : null;
            }

            function componentToHex(c) {
                const hex = Math.round(c).toString(16);
                return hex.length === 1 ? '0' + hex : hex;
            }

            function rgbToHex(r, g, b) {
                return '#' + componentToHex(r) + componentToHex(g) + componentToHex(b);
            }

            function hslToRgb(h, s, l) {
                let r, g, b;

                if (s === 0) {
                    r = g = b = l; // achromatic
                } else {
                    const hue2rgb = function (p, q, t) {
                        if (t < 0) t += 1;
                        if (t > 1) t -= 1;
                        if (t < 1 / 6) return p + (q - p) * 6 * t;
                        if (t < 1 / 2) return q;
                        if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
                        return p;
                    };

                    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                    const p = 2 * l - q;

                    r = hue2rgb(p, q, h + 1 / 3);
                    g = hue2rgb(p, q, h);
                    b = hue2rgb(p, q, h - 1 / 3);
                }

                return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];
            }

            function rgbToHsl(r, g, b) {
                r /= 255;
                g /= 255;
                b /= 255;

                const max = Math.max(r, g, b);
                const min = Math.min(r, g, b);
                let h, s, l = (max + min) / 2;

                if (max === min) {
                    h = s = 0; // achromatic
                } else {
                    const d = max - min;
                    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);

                    switch (max) {
                        case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                        case g: h = (b - r) / d + 2; break;
                        case b: h = (r - g) / d + 4; break;
                    }

                    h /= 6;
                }

                return [h, s, l];
            }
        });
    </script>
</body>

</html>